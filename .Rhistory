for(i in 1:length(time)){
tmp.tmp=EPGMProfile(case.no=11,raw.output=T,results.table=F,plot.profile = F,Yr.Display =time[i])
tmp.tmp=tmp.tmp[tmp.tmp$dist==Dist.Display,]
tmp=rbind(tmp,data.frame(time.step=time[i],Avg.SoilP.mgkg=tmp.tmp[,"Avg.SoilP.mgkg"],SoilP.SS.mgkg=tmp.tmp[,"SoilP.SS.mgkg"]))
}
tmp
plot(Avg.SoilP.mgkg~time.step,tmp[tmp$time.step>0,])
with(tmp[tmp$time.step>0,],lines(time.step,SoilP.SS.mgkg,lty=2,col="red"))
head(EPGMProfile(case.no=11,raw.output=T,results.table=F,plot.profile = F,Yr.Display =time[1]))
path.width.km
cases.dat=casedat
case.no=11
summary.distance=c(0,0.5,1,2,4,8,10,20)
Max.Dist=15
summary.distance=summary.distance[summary.distance<Max.Dist]
Yr.Display=30
start.year<-cases.dat[cases.dat$case.number==case.no,"Start.Discharge"]
outflow.c.ugL<-cases.dat[cases.dat$case.number==case.no,"STA.outflow.TPconc"]
outflow.q.kacft<-cases.dat[cases.dat$case.number==case.no,"STA.outflow.vol"]
path.width.km<-cases.dat[cases.dat$case.number==case.no,"FlowPath.width"]
hydroperiod.per<-cases.dat[cases.dat$case.number==case.no,"Hydroperiod"]/100
soil.z.cm<-cases.dat[cases.dat$case.number==case.no,"Soil.Depth"]
bd.i.gcc<-cases.dat[cases.dat$case.number==case.no,"Soil.BulkDensity.inital"]
soilP.i.mgkg<-cases.dat[cases.dat$case.number==case.no,"Soil.TPConc.inital"]
soilPgrad.i.mgcccm<-cases.dat[cases.dat$case.number==case.no,"Vertical.SoilTPGradient.inital"]
bd.f.gcc<-cases.dat[cases.dat$case.number==case.no,"Soil.BulkDensity.final"]
Psettle.myr<-cases.dat[cases.dat$case.number==case.no,"PSettlingRate"]
atmoP.mgm2yr<-cases.dat[cases.dat$case.number==case.no,"P.AtmoDep"]
RF.myr<-cases.dat[cases.dat$case.number==case.no,"Rainfall"]
ET.myr<-cases.dat[cases.dat$case.number==case.no,"ET"]
Dist.increment.km=0.1
maxdist.km<-min(c(50,Max.Dist),na.rm=T)
TArea.km2<-path.width.km*maxdist.km
CellArea.ha<-path.width.km*0.1*100
Start.Discharge=1962
Dist.Display=12
Max.Dist=15
dists=c(0,2,1,2,4,8,10,20)
dists<-dists[dists<Max.Dist]
Max.Yrs=200
time=seq(0,205,5)
time<-time[time<=Max.Yrs]
tmp=EPGMProfile(case.no=11,raw.output=T,results.table=F,plot.profile = F,Yr.Display =time[1])
Yr=Start.Discharge+time[2]
## Graphs_Site (plot #1)
dist.timeseries=data.frame()
tmp1=EPGMProfile(case.no=11,raw.output=T,results.table=F,plot.profile = F,Yr.Display =time[i])
wghts=ifelse(tmp1$dist==0|tmp1$dist==maxdist.km,0.5,1)
tmp1$cattail.area.ha=tmp1$cattail.time.per*wghts*(path.width.km*Dist.increment.km*100)
tmp1$cattail.area.ha
dist.timeseries=data.frame()
for(i in 1:length(time)){
tmp1=EPGMProfile(case.no=11,raw.output=T,results.table=F,plot.profile = F,Yr.Display =time[i])
wghts=ifelse(tmp1$dist==0|tmp1$dist==maxdist.km,0.5,1)
tmp1$cattail.area.ha=tmp1$cattail.time.per*wghts*(path.width.km*Dist.increment.km*100)
tmp=tmp1[tmp1$dist==Dist.Display,]
dist.timeseries=rbind(dist.timeseries,
data.frame(time.step=time[i],
Avg.SoilP.mgkg=tmp$Avg.SoilP.mgkg,
SoilP.SS.mgkg=tmp$SoilP.SS.mgkg,
Cattail.area.ha=sum(tmp1$cattail.area.ha)))
}
dist.timeseries
dist.timeseries=data.frame()
for(i in 1:length(time)){
tmp1=EPGMProfile(case.no=11,raw.output=T,results.table=F,plot.profile = F,Yr.Display =time[i])
wghts=ifelse(tmp1$dist==0|tmp1$dist==maxdist.km,0.5,1)
tmp1$cattail.area.ha=tmp1$cattail.time.per*wghts*(path.width.km*Dist.increment.km)
tmp=tmp1[tmp1$dist==Dist.Display,]
dist.timeseries=rbind(dist.timeseries,
data.frame(time.step=time[i],
Avg.SoilP.mgkg=tmp$Avg.SoilP.mgkg,
SoilP.SS.mgkg=tmp$SoilP.SS.mgkg,
Cattail.area.ha=sum(tmp1$cattail.area.ha)))
}
dist.timeseries
plot(Avg.SoilP.mgkg~time.step,dist.timeseries)
with(dist.timeseries,lines(time.step,SoilP.SS.mgkg,lty=2,col="red"))
plot(Cattail.area.ha~time.step,dist.timeseries)
head(tmp1)
Dist.Display=5
dist.timeseries=data.frame()
for(i in 1:length(time)){
tmp1=EPGMProfile(case.no=11,raw.output=T,results.table=F,plot.profile = F,Dist.Display=Dist.Display,Yr.Display =time[i])
wghts=ifelse(tmp1$dist==0|tmp1$dist==maxdist.km,0.5,1)
tmp1$cattail.area.ha=tmp1$cattail.time.per*wghts*(path.width.km*Dist.increment.km)
tmp=tmp1[tmp1$dist==Dist.Display,]
dist.timeseries=rbind(dist.timeseries,
data.frame(time.step=time[i],
Avg.SoilP.mgkg=tmp$Avg.SoilP.mgkg,
SoilP.SS.mgkg=tmp$SoilP.SS.mgkg,
Cattail.area.ha=sum(tmp1$cattail.area.ha)))
}
dist.timeseries
plot(Avg.SoilP.mgkg~time.step,dist.timeseries)
with(dist.timeseries,lines(time.step,SoilP.SS.mgkg,lty=2,col="red"))
dist.timeseries=data.frame()
for(i in 1:length(time)){
tmp1=EPGMProfile(case.no=11,raw.output=T,results.table=F,plot.profile = F,Yr.Display =time[i])
wghts=ifelse(tmp1$dist==0|tmp1$dist==maxdist.km,0.5,1)
tmp1$cattail.area.ha=tmp1$cattail.time.per*wghts*(path.width.km*Dist.increment.km)
tmp=tmp1[tmp1$dist==Dist.Display,]
dist.timeseries=rbind(dist.timeseries,
data.frame(time.step=time[i],
Avg.SoilP.mgkg=tmp$Avg.SoilP.mgkg,
SoilP.SS.mgkg=tmp$SoilP.SS.mgkg,
Cattail.area.ha=sum(tmp1$cattail.area.ha)))
}
dist.timeseries
plot(Avg.SoilP.mgkg~time.step,dist.timeseries)
with(dist.timeseries,lines(time.step,SoilP.SS.mgkg,lty=2,col="red"))
plot(Cattail.area.ha~time.step,dist.timeseries)
dist.timeseries=data.frame()
for(i in 1:length(time)){
tmp1=EPGMProfile(case.no=11,raw.output=T,results.table=F,plot.profile = F,Yr.Display =time[i])
wghts=ifelse(tmp1$dist==0|tmp1$dist==maxdist.km,0.5,1)
tmp1$cattail.area.ha=tmp1$cattail.time.per*wghts*(path.width.km*Dist.increment.km)
tmp=tmp1[tmp1$dist==Dist.Display,]
dist.timeseries=rbind(dist.timeseries,
data.frame(time.step=time[i],
Avg.SoilP.mgkg=tmp$Avg.SoilP.mgkg,
SoilP.SS.mgkg=tmp$SoilP.SS.mgkg,
Cattail.area.ha=sum(tmp1$cattail.area.ha)))
}
dist.timeseries
rm(list=ls(all=T));cat("\014");dev.off()
library(EPGMr)
profile.dat=EPGMProfile(case.no=11,raw.output=T,results.table=F,plot.profile = F)
cases.dat=casedat
case.no=11
summary.distance=c(0,0.5,1,2,4,8,10,20)
Max.Dist=15
summary.distance=summary.distance[summary.distance<Max.Dist]
Yr.Display=30
start.year<-cases.dat[cases.dat$case.number==case.no,"Start.Discharge"]
outflow.c.ugL<-cases.dat[cases.dat$case.number==case.no,"STA.outflow.TPconc"]
outflow.q.kacft<-cases.dat[cases.dat$case.number==case.no,"STA.outflow.vol"]
path.width.km<-cases.dat[cases.dat$case.number==case.no,"FlowPath.width"]
hydroperiod.per<-cases.dat[cases.dat$case.number==case.no,"Hydroperiod"]/100
soil.z.cm<-cases.dat[cases.dat$case.number==case.no,"Soil.Depth"]
bd.i.gcc<-cases.dat[cases.dat$case.number==case.no,"Soil.BulkDensity.inital"]
soilP.i.mgkg<-cases.dat[cases.dat$case.number==case.no,"Soil.TPConc.inital"]
soilPgrad.i.mgcccm<-cases.dat[cases.dat$case.number==case.no,"Vertical.SoilTPGradient.inital"]
bd.f.gcc<-cases.dat[cases.dat$case.number==case.no,"Soil.BulkDensity.final"]
Psettle.myr<-cases.dat[cases.dat$case.number==case.no,"PSettlingRate"]
atmoP.mgm2yr<-cases.dat[cases.dat$case.number==case.no,"P.AtmoDep"]
RF.myr<-cases.dat[cases.dat$case.number==case.no,"Rainfall"]
ET.myr<-cases.dat[cases.dat$case.number==case.no,"ET"]
Dist.increment.km=0.1
maxdist.km<-min(c(50,Max.Dist),na.rm=T)
TArea.km2<-path.width.km*maxdist.km
CellArea.ha<-path.width.km*0.1*100
##
Start.Discharge=1962
Dist.Display=5
Max.Dist=15
dists=c(0,2,1,2,4,8,10,20)
dists<-dists[dists<Max.Dist]
Max.Yrs=200
time=seq(0,205,5)
time<-time[time<=Max.Yrs]
tmp=EPGMProfile(case.no=11,raw.output=T,results.table=F,plot.profile = F,Yr.Display =time[1])
Yr=Start.Discharge+time[2]
## Graphs_Site (plot #1)
dist.timeseries=data.frame()
for(i in 1:length(time)){
tmp1=EPGMProfile(case.no=11,raw.output=T,results.table=F,plot.profile = F,Yr.Display =time[i])
wghts=ifelse(tmp1$dist==0|tmp1$dist==maxdist.km,0.5,1)
tmp1$cattail.area.ha=tmp1$cattail.time.per*wghts*(path.width.km*Dist.increment.km)
tmp=tmp1[tmp1$dist==Dist.Display,]
dist.timeseries=rbind(dist.timeseries,
data.frame(time.step=time[i],
Avg.SoilP.mgkg=tmp$Avg.SoilP.mgkg,
SoilP.SS.mgkg=tmp$SoilP.SS.mgkg,
Cattail.area.ha=sum(tmp1$cattail.area.ha)))
}
dist.timeseries
rm(list=ls(all=T));cat("\014");dev.off()
library(EPGMr)
profile.dat=EPGMProfile(case.no=11,raw.output=T,results.table=F,plot.profile = F)
cases.dat=casedat
case.no=11
summary.distance=c(0,0.5,1,2,4,8,10,20)
Max.Dist=15
summary.distance=summary.distance[summary.distance<Max.Dist]
Yr.Display=30
start.year<-cases.dat[cases.dat$case.number==case.no,"Start.Discharge"]
outflow.c.ugL<-cases.dat[cases.dat$case.number==case.no,"STA.outflow.TPconc"]
outflow.q.kacft<-cases.dat[cases.dat$case.number==case.no,"STA.outflow.vol"]
path.width.km<-cases.dat[cases.dat$case.number==case.no,"FlowPath.width"]
hydroperiod.per<-cases.dat[cases.dat$case.number==case.no,"Hydroperiod"]/100
soil.z.cm<-cases.dat[cases.dat$case.number==case.no,"Soil.Depth"]
bd.i.gcc<-cases.dat[cases.dat$case.number==case.no,"Soil.BulkDensity.inital"]
soilP.i.mgkg<-cases.dat[cases.dat$case.number==case.no,"Soil.TPConc.inital"]
soilPgrad.i.mgcccm<-cases.dat[cases.dat$case.number==case.no,"Vertical.SoilTPGradient.inital"]
bd.f.gcc<-cases.dat[cases.dat$case.number==case.no,"Soil.BulkDensity.final"]
Psettle.myr<-cases.dat[cases.dat$case.number==case.no,"PSettlingRate"]
atmoP.mgm2yr<-cases.dat[cases.dat$case.number==case.no,"P.AtmoDep"]
RF.myr<-cases.dat[cases.dat$case.number==case.no,"Rainfall"]
ET.myr<-cases.dat[cases.dat$case.number==case.no,"ET"]
Dist.increment.km=0.1
maxdist.km<-min(c(50,Max.Dist),na.rm=T)
TArea.km2<-path.width.km*maxdist.km
CellArea.ha<-path.width.km*0.1*100
##
Start.Discharge=1962
Dist.Display=5
Max.Dist=15
dists=c(0,2,1,2,4,8,10,20)
dists<-dists[dists<Max.Dist]
Max.Yrs=200
time=seq(0,205,5)
time<-time[time<=Max.Yrs]
tmp=EPGMProfile(case.no=11,raw.output=T,results.table=F,plot.profile = F,Yr.Display =time[1])
Yr=Start.Discharge+time[2]
## Graphs_Site (plot #1)
## Graphs_Site (plot #1)
dist.timeseries=data.frame()
tmp1=EPGMProfile(case.no=11,raw.output=T,results.table=F,plot.profile = F,Yr.Display =time[i])
i=1
tmp1=EPGMProfile(case.no=11,raw.output=T,results.table=F,plot.profile = F,Yr.Display =time[i])
tmp1
dist.timeseries=data.frame()
for(i in 1:length(time)){
tmp1=EPGMProfile(case.no=11,raw.output=T,results.table=F,plot.profile = F,Yr.Display =time[i])
wghts=ifelse(tmp1$dist==0|tmp1$dist==maxdist.km,0.5,1)
#tmp1$cattail.area.ha=tmp1$cattail.time.per*wghts*(path.width.km*Dist.increment.km)
tmp=tmp1[tmp1$dist==Dist.Display,]
#dist.timeseries=rbind(dist.timeseries,
#                      data.frame(time.step=time[i],
#                                 Avg.SoilP.mgkg=tmp$Avg.SoilP.mgkg,
#                                 SoilP.SS.mgkg=tmp$SoilP.SS.mgkg,
#                                 Cattail.area.ha=sum(tmp1$cattail.area.ha)))
dist.timeseries=rbind(dist.timeseries,
data.frame(time.step=time[i],
Avg.SoilP.mgkg=tmp$Avg.SoilP.mgkg,
SoilP.SS.mgkg=tmp$SoilP.SS.mgkg,
EquilTime.yrs=tmp$EquilTime.yrs,
cattail.density.SS.per=cattail.density.SS.per,
cattail.time.per=cattail.time.per
)
}
dist.timeseries
dist.timeseries=data.frame()
for(i in 1:length(time)){
tmp1=EPGMProfile(case.no=11,raw.output=T,results.table=F,plot.profile = F,Yr.Display =time[i])
wghts=ifelse(tmp1$dist==0|tmp1$dist==maxdist.km,0.5,1)
#tmp1$cattail.area.ha=tmp1$cattail.time.per*wghts*(path.width.km*Dist.increment.km)
tmp=tmp1[tmp1$dist==Dist.Display,]
#dist.timeseries=rbind(dist.timeseries,
#                      data.frame(time.step=time[i],
#                                 Avg.SoilP.mgkg=tmp$Avg.SoilP.mgkg,
#                                 SoilP.SS.mgkg=tmp$SoilP.SS.mgkg,
#                                 Cattail.area.ha=sum(tmp1$cattail.area.ha)))
dist.timeseries=rbind(dist.timeseries,
data.frame(time.step=time[i],
Avg.SoilP.mgkg=tmp$Avg.SoilP.mgkg,
SoilP.SS.mgkg=tmp$SoilP.SS.mgkg,
EquilTime.yrs=tmp$EquilTime.yrs,
cattail.density.SS.per=cattail.density.SS.per,
cattail.time.per=cattail.time.per
))
}
dist.timeseries
time
time<-time[time<=Max.Yrs]
tmp=EPGMProfile(case.no=11,raw.output=T,results.table=F,plot.profile = F,Yr.Display =time[1])
Yr=Start.Discharge+time[2]
## Graphs_Site (plot #1)
dist.timeseries=data.frame()
for(i in 1:length(time)){
tmp1=EPGMProfile(case.no=11,raw.output=T,results.table=F,plot.profile = F,Yr.Display =time[i])
wghts=ifelse(tmp1$dist==0|tmp1$dist==maxdist.km,0.5,1)
#tmp1$cattail.area.ha=tmp1$cattail.time.per*wghts*(path.width.km*Dist.increment.km)
tmp=tmp1[tmp1$dist==Dist.Display,]
#dist.timeseries=rbind(dist.timeseries,
#                      data.frame(time.step=time[i],
#                                 Avg.SoilP.mgkg=tmp$Avg.SoilP.mgkg,
#                                 SoilP.SS.mgkg=tmp$SoilP.SS.mgkg,
#                                 Cattail.area.ha=sum(tmp1$cattail.area.ha)))
dist.timeseries=rbind(dist.timeseries,
data.frame(time.step=time[i],
Avg.SoilP.mgkg=tmp$Avg.SoilP.mgkg,
SoilP.SS.mgkg=tmp$SoilP.SS.mgkg,
EquilTime.yrs=tmp$EquilTime.yrs,
cattail.density.SS.per=cattail.density.SS.per,
cattail.time.per=cattail.time.per
))
}
dist.timeseries
dist.timeseries=data.frame()
for(i in 1:length(time)){
tmp1=EPGMProfile(case.no=11,raw.output=T,results.table=F,plot.profile = F,Yr.Display =time[i])
wghts=ifelse(tmp1$dist==0|tmp1$dist==maxdist.km,0.5,1)
#tmp1$cattail.area.ha=tmp1$cattail.time.per*wghts*(path.width.km*Dist.increment.km)
tmp=tmp1[tmp1$dist==Dist.Display,]
#dist.timeseries=rbind(dist.timeseries,
#                      data.frame(time.step=time[i],
#                                 Avg.SoilP.mgkg=tmp$Avg.SoilP.mgkg,
#                                 SoilP.SS.mgkg=tmp$SoilP.SS.mgkg,
#                                 Cattail.area.ha=sum(tmp1$cattail.area.ha)))
dist.timeseries=rbind(dist.timeseries,
data.frame(time.step=time[i],
Avg.SoilP.mgkg=tmp$Avg.SoilP.mgkg,
SoilP.SS.mgkg=tmp$SoilP.SS.mgkg,
EquilTime.yrs=tmp$EquilTime.yrs,
cattail.density.SS.per=tmp$cattail.density.SS.per,
cattail.time.per=tmp$cattail.time.per
))
}
dist.timeseries
if(Dist.Display>Max.Dist){Max.Dist}else{Dist.Display}
if(Dist.Display>Max.Dist){Max.Dist}else{Dist.Display}
Dist.Display=20
if(Dist.Display>Max.Dist){Max.Dist}else{Dist.Display}
Dist.Display=12
Dist.Display<-if(Dist.Display>Max.Dist){Max.Dist}else{Dist.Display}
time=seq(0,205,5)
time<-time[time<=Max.Yrs]
## Graphs_Site (plot #1)
dist.timeseries=data.frame()
for(i in 1:length(time)){
tmp1=EPGMProfile(case.no=11,raw.output=T,results.table=F,plot.profile = F,Yr.Display =time[i])
wghts=ifelse(tmp1$dist==0|tmp1$dist==maxdist.km,0.5,1)
#tmp1$cattail.area.ha=tmp1$cattail.time.per*wghts*(path.width.km*Dist.increment.km)
tmp=tmp1[tmp1$dist==Dist.Display,]
#dist.timeseries=rbind(dist.timeseries,
#                      data.frame(time.step=time[i],
#                                 Avg.SoilP.mgkg=tmp$Avg.SoilP.mgkg,
#                                 SoilP.SS.mgkg=tmp$SoilP.SS.mgkg,
#                                 Cattail.area.ha=sum(tmp1$cattail.area.ha)))
dist.timeseries=rbind(dist.timeseries,
data.frame(time.step=time[i],
Year=Start.Discharge+time[i]
Avg.SoilP.mgkg=tmp$Avg.SoilP.mgkg,
SoilP.SS.mgkg=tmp$SoilP.SS.mgkg,
EquilTime.yrs=tmp$EquilTime.yrs,
cattail.density.SS.per=tmp$cattail.density.SS.per,
cattail.time.per=tmp$cattail.time.per
))
}
dist.timeseries
Start.Discharge
time
dist.timeseries=data.frame()
for(i in 1:length(time)){
tmp1=EPGMProfile(case.no=11,raw.output=T,results.table=F,plot.profile = F,Yr.Display =time[i])
wghts=ifelse(tmp1$dist==0|tmp1$dist==maxdist.km,0.5,1)
#tmp1$cattail.area.ha=tmp1$cattail.time.per*wghts*(path.width.km*Dist.increment.km)
tmp=tmp1[tmp1$dist==Dist.Display,]
#dist.timeseries=rbind(dist.timeseries,
#                      data.frame(time.step=time[i],
#                                 Avg.SoilP.mgkg=tmp$Avg.SoilP.mgkg,
#                                 SoilP.SS.mgkg=tmp$SoilP.SS.mgkg,
#                                 Cattail.area.ha=sum(tmp1$cattail.area.ha)))
dist.timeseries=rbind(dist.timeseries,
data.frame(time.step=time[i],
Year=Start.Discharge+time[i],
Avg.SoilP.mgkg=tmp$Avg.SoilP.mgkg,
SoilP.SS.mgkg=tmp$SoilP.SS.mgkg,
EquilTime.yrs=tmp$EquilTime.yrs,
cattail.density.SS.per=tmp$cattail.density.SS.per,
cattail.time.per=tmp$cattail.time.per
))
}
dist.timeseries
tmp1
head(tmp1)
Dist.Display=12
Dist.Display<-if(Dist.Display>Max.Dist){Max.Dist}else{Dist.Display}
time=seq(0,205,5)
time<-time[time<=Max.Yrs]
## Graphs_Site (plot #1)
dist.timeseries=data.frame()
for(i in 1:length(time)){
tmp1=EPGMProfile(case.no=11,raw.output=T,results.table=F,plot.profile = F,Yr.Display =time[i])
wghts=ifelse(tmp1$dist==0|tmp1$dist==maxdist.km,0.5,1)
#tmp1$cattail.area.ha=tmp1$cattail.time.per*wghts*(path.width.km*Dist.increment.km)
tmp=tmp1[tmp1$dist%in%Dist.Display,]
#dist.timeseries=rbind(dist.timeseries,
#                      data.frame(time.step=time[i],
#                                 Avg.SoilP.mgkg=tmp$Avg.SoilP.mgkg,
#                                 SoilP.SS.mgkg=tmp$SoilP.SS.mgkg,
#                                 Cattail.area.ha=sum(tmp1$cattail.area.ha)))
dist.timeseries=rbind(dist.timeseries,
data.frame(time.step=time[i],
Year=Start.Discharge+time[i],
SSTime.yrs=tmp$SSTime.yrs,
Avg.SoilP.mgkg=tmp$Avg.SoilP.mgkg,
SoilP.SS.mgkg=tmp$SoilP.SS.mgkg,
EquilTime.yrs=tmp$EquilTime.yrs,
cattail.density.SS.per=tmp$cattail.density.SS.per,
cattail.time.per=tmp$cattail.time.per
))
}
dist.timeseries
Dist.Display=c(1,5,12)
if(Dist.Display>Max.Dist){Max.Dist}else{Dist.Display}
Dist.Display=c(1,5,12,30)
Dist.Display[Dist.Display<=Max.Dist]
Dist.Display=c(1,5,12,30)
Dist.Display<-Dist.Display[Dist.Display<=Max.Dist]
time=seq(0,205,5)
time<-time[time<=Max.Yrs]
## Graphs_Site (plot #1)
dist.timeseries=data.frame()
for(i in 1:length(time)){
tmp1=EPGMProfile(case.no=11,raw.output=T,results.table=F,plot.profile = F,Yr.Display =time[i])
wghts=ifelse(tmp1$dist==0|tmp1$dist==maxdist.km,0.5,1)
#tmp1$cattail.area.ha=tmp1$cattail.time.per*wghts*(path.width.km*Dist.increment.km)
tmp=tmp1[tmp1$dist%in%Dist.Display,]
#dist.timeseries=rbind(dist.timeseries,
#                      data.frame(time.step=time[i],
#                                 Avg.SoilP.mgkg=tmp$Avg.SoilP.mgkg,
#                                 SoilP.SS.mgkg=tmp$SoilP.SS.mgkg,
#                                 Cattail.area.ha=sum(tmp1$cattail.area.ha)))
dist.timeseries=rbind(dist.timeseries,
data.frame(time.step=time[i],
Year=Start.Discharge+time[i],
SSTime.yrs=tmp$SSTime.yrs,
Avg.SoilP.mgkg=tmp$Avg.SoilP.mgkg,
SoilP.SS.mgkg=tmp$SoilP.SS.mgkg,
EquilTime.yrs=tmp$EquilTime.yrs,
cattail.density.SS.per=tmp$cattail.density.SS.per,
cattail.time.per=tmp$cattail.time.per
))
}
dist.timeseries
dist.timeseries=data.frame()
for(i in 1:length(time)){
tmp1=EPGMProfile(case.no=11,raw.output=T,results.table=F,plot.profile = F,Yr.Display =time[i])
wghts=ifelse(tmp1$dist==0|tmp1$dist==maxdist.km,0.5,1)
#tmp1$cattail.area.ha=tmp1$cattail.time.per*wghts*(path.width.km*Dist.increment.km)
tmp=tmp1[tmp1$dist%in%Dist.Display,]
#dist.timeseries=rbind(dist.timeseries,
#                      data.frame(time.step=time[i],
#                                 Avg.SoilP.mgkg=tmp$Avg.SoilP.mgkg,
#                                 SoilP.SS.mgkg=tmp$SoilP.SS.mgkg,
#                                 Cattail.area.ha=sum(tmp1$cattail.area.ha)))
dist.timeseries=rbind(dist.timeseries,
data.frame(time.step=time[i],
Dist=dist,
Year=Start.Discharge+time[i],
SSTime.yrs=tmp$SSTime.yrs,
Avg.SoilP.mgkg=tmp$Avg.SoilP.mgkg,
SoilP.SS.mgkg=tmp$SoilP.SS.mgkg,
EquilTime.yrs=tmp$EquilTime.yrs,
cattail.density.SS.per=tmp$cattail.density.SS.per,
cattail.time.per=tmp$cattail.time.per
))
}
dist.timeseries
dist.timeseries=data.frame()
for(i in 1:length(time)){
tmp1=EPGMProfile(case.no=11,raw.output=T,results.table=F,plot.profile = F,Yr.Display =time[i])
wghts=ifelse(tmp1$dist==0|tmp1$dist==maxdist.km,0.5,1)
#tmp1$cattail.area.ha=tmp1$cattail.time.per*wghts*(path.width.km*Dist.increment.km)
tmp=tmp1[tmp1$dist%in%Dist.Display,]
#dist.timeseries=rbind(dist.timeseries,
#                      data.frame(time.step=time[i],
#                                 Avg.SoilP.mgkg=tmp$Avg.SoilP.mgkg,
#                                 SoilP.SS.mgkg=tmp$SoilP.SS.mgkg,
#                                 Cattail.area.ha=sum(tmp1$cattail.area.ha)))
dist.timeseries=rbind(dist.timeseries,
data.frame(time.step=time[i],
Dist=tmp$dist,
Year=Start.Discharge+time[i],
SSTime.yrs=tmp$SSTime.yrs,
Avg.SoilP.mgkg=tmp$Avg.SoilP.mgkg,
SoilP.SS.mgkg=tmp$SoilP.SS.mgkg,
EquilTime.yrs=tmp$EquilTime.yrs,
cattail.density.SS.per=tmp$cattail.density.SS.per,
cattail.time.per=tmp$cattail.time.per
))
}
dist.timeseries
plot(SSTime.yrs~time.step,dist.timeseries)
plot(cattail.time.per~time.step,dist.timeseries)
cols=rainbow(length(Dist.Display))
cols
cols=rainbow(length(Dist.Display))
plot(cattail.time.per~time.step,dist.timeseries)
for(i in 1:length(Dist.Display)){
with(dist.timeseries[dist.timeseries$Dist==Dist.Display[i],],lines(time.step,cattail.time.per,lwd=1,col=cols[i]))
}
cols=rainbow(length(Dist.Display))
plot(cattail.time.per~time.step,dist.timeseries)
for(i in 1:length(Dist.Display)){
with(dist.timeseries[dist.timeseries$Dist==Dist.Display[i],],lines(time.step,cattail.time.per,lwd=2,col=cols[i]))
}
cols=rainbow(length(Dist.Display))
plot(cattail.time.per~time.step,dist.timeseries,type="n")
for(i in 1:length(Dist.Display)){
with(dist.timeseries[dist.timeseries$Dist==Dist.Display[i],],lines(time.step,cattail.time.per,lwd=2,col=cols[i]))
}
plot(cattail.time.per~Dist,dist.timeseries)
with(dist.timeseries[dist.timeseries$time.step==time[i],],lines(Dist,cattail.time.per,lwd=2,col=cols[i]))
cols=rainbow(length(time))
plot(cattail.time.per~Dist,dist.timeseries)
for(i in 1:length(time)){
with(dist.timeseries[dist.timeseries$time.step==time[i],],lines(Dist,cattail.time.per,lwd=2,col=cols[i]))
}
cols=rainbow(length(Dist.Display))
plot(cattail.time.per~time.step,dist.timeseries,type="n")
for(i in 1:length(Dist.Display)){
with(dist.timeseries[dist.timeseries$Dist==Dist.Display[i],],lines(time.step,cattail.time.per,lwd=2,col=cols[i]))
}
cols=rainbow(length(time))
plot(cattail.time.per~Dist,dist.timeseries)
for(i in 1:length(time)){
with(dist.timeseries[dist.timeseries$time.step==time[i],],lines(Dist,cattail.time.per,lwd=2,col=cols[i]))
}
